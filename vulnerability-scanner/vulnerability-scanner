import socket


def checkPort():
    ports = [21, 22, 23, 25, 80, 443, 3306, 8080]

    for port in ports:
        with socket.socket(socket.AF_INET, socket.SOCK_STREAM) as sock:

            host = '127.0.0.1'
            sock.settimeout(3)
            try:
                result = sock.connect_ex((host, port))
                if result == 0:
                    print("This port is open")
                else:
                    print("The port is not open")
            except:
                print("Something went wrong")
            finally:
                sock.close()


def main():
    checkPort()


if __name__ == '__main__':
    main()
